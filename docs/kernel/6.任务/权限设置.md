# 权限设置

| 名称   | 含义             | 谁来设置                             | 用途和作用                                    |
| ------ | ---------------- | ------------------------------------ | --------------------------------------------- |
| `ruid` | 真实用户 ID      | 程序启动时由内核设置                 | 表示进程的**原始用户**是谁(谁执行了这个程序)  |
| `euid` | 有效用户 ID      | 可以由 `setuid()` / `seteuid()` 设置 | 内核用来进行**权限检查**(如读文件、开 socket) |
| `suid` | 保存的 setuid 值 | 程序是 setuid 时由系统自动保存       | 可以**来回切换权限**(euid <-> suid)           |

# 详细说明

> RTFM!!!!
>
> man setuid
>
> man seteuid

- [difference between euid, suid and ruid in linux systems | stackoverflow](https://stackoverflow.com/questions/33982789/difference-between-euid-suid-and-ruid-in-linux-systems)

---

举个例子:

现在是 纯正的 root:

- ruid = 0
- euid = 0

降权: `seteuid(1000)`
然后可以提权: `seteuid(0)`

但是如果放弃 root: `setuid(0)`

这时候就换不回去了...

